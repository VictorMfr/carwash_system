"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[463],{7681:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"integrations/api","title":"Documentaci\xf3n de API REST","description":"La API REST del Sistema de Gesti\xf3n te permite integrar con otros sistemas y automatizar procesos.","source":"@site/docs/integrations/api.md","sourceDirName":"integrations","slug":"/integrations/api","permalink":"/docs/integrations/api","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/integrations/api.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2}}');var i=r(4848),o=r(8453);const a={sidebar_position:2},d="Documentaci\xf3n de API REST",c={},t=[{value:"Autenticaci\xf3n",id:"autenticaci\xf3n",level:2},{value:"Obtener Token de Acceso",id:"obtener-token-de-acceso",level:3},{value:"Usar Token en Requests",id:"usar-token-en-requests",level:3},{value:"Endpoints de Stock",id:"endpoints-de-stock",level:2},{value:"Obtener Productos",id:"obtener-productos",level:3},{value:"Crear Producto",id:"crear-producto",level:3},{value:"Actualizar Producto",id:"actualizar-producto",level:3},{value:"Eliminar Producto",id:"eliminar-producto",level:3},{value:"Endpoints de Finance",id:"endpoints-de-finance",level:2},{value:"Obtener Transacciones",id:"obtener-transacciones",level:3},{value:"Crear Transacci\xf3n",id:"crear-transacci\xf3n",level:3},{value:"Endpoints de Services",id:"endpoints-de-services",level:2},{value:"Obtener Servicios",id:"obtener-servicios",level:3},{value:"Crear Servicio",id:"crear-servicio",level:3},{value:"Endpoints de Usuarios",id:"endpoints-de-usuarios",level:2},{value:"Obtener Usuarios",id:"obtener-usuarios",level:3},{value:"Crear Usuario",id:"crear-usuario",level:3},{value:"C\xf3digos de Estado HTTP",id:"c\xf3digos-de-estado-http",level:2},{value:"Manejo de Errores",id:"manejo-de-errores",level:2},{value:"Estructura de Error",id:"estructura-de-error",level:3},{value:"C\xf3digos de Error Comunes",id:"c\xf3digos-de-error-comunes",level:3},{value:"L\xedmites y Rate Limiting",id:"l\xedmites-y-rate-limiting",level:2},{value:"L\xedmites de API",id:"l\xedmites-de-api",level:3},{value:"Headers de Rate Limiting",id:"headers-de-rate-limiting",level:3},{value:"Ejemplos de Uso",id:"ejemplos-de-uso",level:2},{value:"JavaScript/Node.js",id:"javascriptnodejs",level:3},{value:"Python",id:"python",level:3},{value:"Consejos para el Uso de la API",id:"consejos-para-el-uso-de-la-api",level:2},{value:"Mejores Pr\xe1cticas",id:"mejores-pr\xe1cticas",level:3}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"documentaci\xf3n-de-api-rest",children:"Documentaci\xf3n de API REST"})}),"\n",(0,i.jsx)(n.p,{children:"La API REST del Sistema de Gesti\xf3n te permite integrar con otros sistemas y automatizar procesos."}),"\n",(0,i.jsx)(n.h2,{id:"autenticaci\xf3n",children:"Autenticaci\xf3n"}),"\n",(0,i.jsx)(n.h3,{id:"obtener-token-de-acceso",children:"Obtener Token de Acceso"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'POST /api/auth/login\r\nContent-Type: application/json\r\n\r\n{\r\n  "email": "usuario@empresa.com",\r\n  "password": "tu_password"\r\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Respuesta:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": true,\r\n  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",\r\n  "user": {\r\n    "id": 1,\r\n    "name": "Usuario",\r\n    "email": "usuario@empresa.com",\r\n    "role": "admin"\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"usar-token-en-requests",children:"Usar Token en Requests"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"GET /api/stock/products\r\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\n"})}),"\n",(0,i.jsx)(n.h2,{id:"endpoints-de-stock",children:"Endpoints de Stock"}),"\n",(0,i.jsx)(n.h3,{id:"obtener-productos",children:"Obtener Productos"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"GET /api/stock/products\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Par\xe1metros de consulta:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"page"}),": N\xfamero de p\xe1gina (opcional)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"limit"}),": L\xedmite de resultados (opcional)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"category"}),": Filtrar por categor\xeda (opcional)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"search"}),": Buscar por nombre (opcional)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Respuesta:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": true,\r\n  "data": [\r\n    {\r\n      "id": 1,\r\n      "name": "Producto 1",\r\n      "code": "PROD001",\r\n      "category": "Categor\xeda 1",\r\n      "stock": 100,\r\n      "price": 25.50\r\n    }\r\n  ],\r\n  "pagination": {\r\n    "page": 1,\r\n    "limit": 10,\r\n    "total": 1,\r\n    "pages": 1\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"crear-producto",children:"Crear Producto"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'POST /api/stock/products\r\nContent-Type: application/json\r\n\r\n{\r\n  "name": "Nuevo Producto",\r\n  "code": "PROD002",\r\n  "category_id": 1,\r\n  "price": 30.00,\r\n  "stock": 50\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"actualizar-producto",children:"Actualizar Producto"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'PUT /api/stock/products/1\r\nContent-Type: application/json\r\n\r\n{\r\n  "name": "Producto Actualizado",\r\n  "price": 35.00\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"eliminar-producto",children:"Eliminar Producto"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"DELETE /api/stock/products/1\n"})}),"\n",(0,i.jsx)(n.h2,{id:"endpoints-de-finance",children:"Endpoints de Finance"}),"\n",(0,i.jsx)(n.h3,{id:"obtener-transacciones",children:"Obtener Transacciones"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"GET /api/finance/transactions\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Par\xe1metros de consulta:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"type"}),": Tipo de transacci\xf3n (income/expense)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"date_from"}),": Fecha desde (YYYY-MM-DD)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"date_to"}),": Fecha hasta (YYYY-MM-DD)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"crear-transacci\xf3n",children:"Crear Transacci\xf3n"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'POST /api/finance/transactions\r\nContent-Type: application/json\r\n\r\n{\r\n  "type": "income",\r\n  "amount": 1000.00,\r\n  "description": "Venta de productos",\r\n  "date": "2024-01-15",\r\n  "category_id": 1\r\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"endpoints-de-services",children:"Endpoints de Services"}),"\n",(0,i.jsx)(n.h3,{id:"obtener-servicios",children:"Obtener Servicios"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"GET /api/services\n"})}),"\n",(0,i.jsx)(n.h3,{id:"crear-servicio",children:"Crear Servicio"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'POST /api/services\r\nContent-Type: application/json\r\n\r\n{\r\n  "client_id": 1,\r\n  "vehicle_id": 1,\r\n  "service_type": "maintenance",\r\n  "description": "Mantenimiento preventivo",\r\n  "scheduled_date": "2024-01-20",\r\n  "technician_id": 1\r\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"endpoints-de-usuarios",children:"Endpoints de Usuarios"}),"\n",(0,i.jsx)(n.h3,{id:"obtener-usuarios",children:"Obtener Usuarios"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"GET /api/users\n"})}),"\n",(0,i.jsx)(n.h3,{id:"crear-usuario",children:"Crear Usuario"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'POST /api/users\r\nContent-Type: application/json\r\n\r\n{\r\n  "name": "Nuevo Usuario",\r\n  "email": "nuevo@empresa.com",\r\n  "password": "password123",\r\n  "role": "employee"\r\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"c\xf3digos-de-estado-http",children:"C\xf3digos de Estado HTTP"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"200 OK"}),": Solicitud exitosa"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"201 Created"}),": Recurso creado exitosamente"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"400 Bad Request"}),": Solicitud malformada"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"401 Unauthorized"}),": No autenticado"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"403 Forbidden"}),": Sin permisos"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"404 Not Found"}),": Recurso no encontrado"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"500 Internal Server Error"}),": Error del servidor"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"manejo-de-errores",children:"Manejo de Errores"}),"\n",(0,i.jsx)(n.h3,{id:"estructura-de-error",children:"Estructura de Error"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "success": false,\r\n  "error": {\r\n    "code": "VALIDATION_ERROR",\r\n    "message": "Los datos proporcionados no son v\xe1lidos",\r\n    "details": [\r\n      {\r\n        "field": "email",\r\n        "message": "El email es requerido"\r\n      }\r\n    ]\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"c\xf3digos-de-error-comunes",children:"C\xf3digos de Error Comunes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"VALIDATION_ERROR"}),": Error de validaci\xf3n de datos"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"AUTHENTICATION_ERROR"}),": Error de autenticaci\xf3n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"AUTHORIZATION_ERROR"}),": Error de autorizaci\xf3n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"NOT_FOUND"}),": Recurso no encontrado"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DUPLICATE_ERROR"}),": Recurso duplicado"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"SERVER_ERROR"}),": Error interno del servidor"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"l\xedmites-y-rate-limiting",children:"L\xedmites y Rate Limiting"}),"\n",(0,i.jsx)(n.h3,{id:"l\xedmites-de-api",children:"L\xedmites de API"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Requests por minuto"}),": 100 requests"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Requests por hora"}),": 1000 requests"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tama\xf1o de payload"}),": 10MB m\xe1ximo"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Timeout"}),": 30 segundos"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"headers-de-rate-limiting",children:"Headers de Rate Limiting"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"X-RateLimit-Limit: 100\r\nX-RateLimit-Remaining: 95\r\nX-RateLimit-Reset: 1640995200\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ejemplos-de-uso",children:"Ejemplos de Uso"}),"\n",(0,i.jsx)(n.h3,{id:"javascriptnodejs",children:"JavaScript/Node.js"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const axios = require('axios');\r\n\r\n// Configurar cliente\r\nconst api = axios.create({\r\n  baseURL: 'https://tu-dominio.com/api',\r\n  headers: {\r\n    'Authorization': 'Bearer tu_token_aqui'\r\n  }\r\n});\r\n\r\n// Obtener productos\r\nasync function getProducts() {\r\n  try {\r\n    const response = await api.get('/stock/products');\r\n    console.log(response.data);\r\n  } catch (error) {\r\n    console.error('Error:', error.response.data);\r\n  }\r\n}\r\n\r\n// Crear producto\r\nasync function createProduct(productData) {\r\n  try {\r\n    const response = await api.post('/stock/products', productData);\r\n    console.log('Producto creado:', response.data);\r\n  } catch (error) {\r\n    console.error('Error:', error.response.data);\r\n  }\r\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import requests\r\n\r\n# Configurar cliente\r\nheaders = {\r\n    'Authorization': 'Bearer tu_token_aqui',\r\n    'Content-Type': 'application/json'\r\n}\r\n\r\n# Obtener productos\r\ndef get_products():\r\n    response = requests.get(\r\n        'https://tu-dominio.com/api/stock/products',\r\n        headers=headers\r\n    )\r\n    return response.json()\r\n\r\n# Crear producto\r\ndef create_product(product_data):\r\n    response = requests.post(\r\n        'https://tu-dominio.com/api/stock/products',\r\n        json=product_data,\r\n        headers=headers\r\n    )\r\n    return response.json()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"consejos-para-el-uso-de-la-api",children:"Consejos para el Uso de la API"}),"\n",(0,i.jsx)(n.h3,{id:"mejores-pr\xe1cticas",children:"Mejores Pr\xe1cticas"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Usa HTTPS"}),": Siempre usa conexiones seguras"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Maneja errores"}),": Implementa manejo robusto de errores"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cachea respuestas"}),": Implementa cach\xe9 cuando sea apropiado"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Monitorea l\xedmites"}),": Respeta los l\xedmites de rate limiting"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Valida datos"}),": Valida datos antes de enviar"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Usa paginaci\xf3n"}),": Para grandes conjuntos de datos"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Mant\xe9n tokens seguros"}),": No expongas tokens en el c\xf3digo"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>d});var s=r(6540);const i={},o=s.createContext(i);function a(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);
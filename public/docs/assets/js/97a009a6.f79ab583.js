"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[376],{5763:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>t,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"advanced/configuration","title":"Configuraci\xf3n Avanzada","description":"Esta secci\xf3n cubre las configuraciones avanzadas del Sistema de Gesti\xf3n Empresarial.","source":"@site/docs/advanced/configuration.md","sourceDirName":"advanced","slug":"/advanced/configuration","permalink":"/docs/advanced/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/advanced/configuration.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1}}');var s=r(4848),a=r(8453);const o={sidebar_position:1},c="Configuraci\xf3n Avanzada",t={},l=[{value:"Configuraci\xf3n del Sistema",id:"configuraci\xf3n-del-sistema",level:2},{value:"Variables de Entorno",id:"variables-de-entorno",level:3},{value:"Configuraci\xf3n de Base de Datos",id:"configuraci\xf3n-de-base-de-datos",level:3},{value:"PostgreSQL (Recomendado)",id:"postgresql-recomendado",level:4},{value:"MySQL",id:"mysql",level:4},{value:"Configuraci\xf3n de Seguridad",id:"configuraci\xf3n-de-seguridad",level:2},{value:"Autenticaci\xf3n",id:"autenticaci\xf3n",level:3},{value:"Configurar JWT",id:"configurar-jwt",level:4},{value:"Configurar Roles y Permisos",id:"configurar-roles-y-permisos",level:4},{value:"Configuraci\xf3n de CORS",id:"configuraci\xf3n-de-cors",level:3},{value:"Configuraci\xf3n de Email",id:"configuraci\xf3n-de-email",level:2},{value:"SMTP Configuration",id:"smtp-configuration",level:3},{value:"Plantillas de Email",id:"plantillas-de-email",level:3},{value:"Configuraci\xf3n de Reportes",id:"configuraci\xf3n-de-reportes",level:2},{value:"Configurar Generaci\xf3n de Reportes",id:"configurar-generaci\xf3n-de-reportes",level:3},{value:"Configurar Notificaciones Autom\xe1ticas",id:"configurar-notificaciones-autom\xe1ticas",level:3},{value:"Configuraci\xf3n de Integraciones",id:"configuraci\xf3n-de-integraciones",level:2},{value:"API Configuration",id:"api-configuration",level:3},{value:"Webhook Configuration",id:"webhook-configuration",level:3},{value:"Configuraci\xf3n de Backup",id:"configuraci\xf3n-de-backup",level:2},{value:"Configurar Respaldos Autom\xe1ticos",id:"configurar-respaldos-autom\xe1ticos",level:3},{value:"Configurar Restauraci\xf3n",id:"configurar-restauraci\xf3n",level:3},{value:"Configuraci\xf3n de Monitoreo",id:"configuraci\xf3n-de-monitoreo",level:2},{value:"Configurar Logs",id:"configurar-logs",level:3},{value:"Configurar M\xe9tricas",id:"configurar-m\xe9tricas",level:3},{value:"Configuraci\xf3n de Despliegue",id:"configuraci\xf3n-de-despliegue",level:2},{value:"Docker Configuration",id:"docker-configuration",level:3},{value:"Docker Compose",id:"docker-compose",level:3},{value:"Consejos de Configuraci\xf3n",id:"consejos-de-configuraci\xf3n",level:2},{value:"Mejores Pr\xe1cticas",id:"mejores-pr\xe1cticas",level:3}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"configuraci\xf3n-avanzada",children:"Configuraci\xf3n Avanzada"})}),"\n",(0,s.jsx)(e.p,{children:"Esta secci\xf3n cubre las configuraciones avanzadas del Sistema de Gesti\xf3n Empresarial."}),"\n",(0,s.jsx)(e.h2,{id:"configuraci\xf3n-del-sistema",children:"Configuraci\xf3n del Sistema"}),"\n",(0,s.jsx)(e.h3,{id:"variables-de-entorno",children:"Variables de Entorno"}),"\n",(0,s.jsx)(e.p,{children:"El sistema utiliza varias variables de entorno para su configuraci\xf3n:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-env",children:'# Base de datos\r\nDATABASE_URL="postgresql://usuario:password@localhost:5432/sistema_gestion"\r\n\r\n# Autenticaci\xf3n\r\nNEXTAUTH_SECRET="tu-secreto-super-seguro"\r\nNEXTAUTH_URL="http://localhost:3000"\r\n\r\n# Configuraci\xf3n de la aplicaci\xf3n\r\nNEXT_PUBLIC_APP_URL="http://localhost:3000"\r\nNEXT_PUBLIC_API_URL="http://localhost:3000/api"\r\n\r\n# Configuraci\xf3n de email\r\nSMTP_HOST="smtp.gmail.com"\r\nSMTP_PORT="587"\r\nSMTP_USER="tu-email@gmail.com"\r\nSMTP_PASS="tu-password-de-aplicacion"\n'})}),"\n",(0,s.jsx)(e.h3,{id:"configuraci\xf3n-de-base-de-datos",children:"Configuraci\xf3n de Base de Datos"}),"\n",(0,s.jsx)(e.h4,{id:"postgresql-recomendado",children:"PostgreSQL (Recomendado)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# Instalar PostgreSQL\r\n# Windows: Descargar desde https://www.postgresql.org/download/windows/\r\n# Linux: sudo apt-get install postgresql postgresql-contrib\r\n# macOS: brew install postgresql\r\n\r\n# Crear base de datos\r\ncreatedb sistema_gestion\r\n\r\n# Configurar usuario\r\npsql -c "CREATE USER sistema_user WITH PASSWORD \'tu_password\';"\r\npsql -c "GRANT ALL PRIVILEGES ON DATABASE sistema_gestion TO sistema_user;"\n'})}),"\n",(0,s.jsx)(e.h4,{id:"mysql",children:"MySQL"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Instalar MySQL\r\n# Windows: Descargar desde https://dev.mysql.com/downloads/mysql/\r\n# Linux: sudo apt-get install mysql-server\r\n# macOS: brew install mysql\r\n\r\n# Crear base de datos\r\nmysql -u root -p\r\nCREATE DATABASE sistema_gestion;\r\nCREATE USER 'sistema_user'@'localhost' IDENTIFIED BY 'tu_password';\r\nGRANT ALL PRIVILEGES ON sistema_gestion.* TO 'sistema_user'@'localhost';\r\nFLUSH PRIVILEGES;\n"})}),"\n",(0,s.jsx)(e.h2,{id:"configuraci\xf3n-de-seguridad",children:"Configuraci\xf3n de Seguridad"}),"\n",(0,s.jsx)(e.h3,{id:"autenticaci\xf3n",children:"Autenticaci\xf3n"}),"\n",(0,s.jsx)(e.h4,{id:"configurar-jwt",children:"Configurar JWT"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// lib/auth.ts\r\nexport const authConfig = {\r\n  secret: process.env.NEXTAUTH_SECRET,\r\n  providers: [\r\n    // Configuraci\xf3n de proveedores de autenticaci\xf3n\r\n  ],\r\n  session: {\r\n    strategy: 'jwt',\r\n    maxAge: 30 * 24 * 60 * 60, // 30 d\xedas\r\n  },\r\n  pages: {\r\n    signIn: '/login',\r\n    error: '/auth/error',\r\n  },\r\n};\n"})}),"\n",(0,s.jsx)(e.h4,{id:"configurar-roles-y-permisos",children:"Configurar Roles y Permisos"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// lib/permissions.ts\r\nexport const permissions = {\r\n  admin: ['*'],\r\n  manager: ['stock:read', 'stock:write', 'finance:read', 'service:read'],\r\n  employee: ['stock:read', 'service:read'],\r\n  technician: ['service:read', 'service:write'],\r\n};\n"})}),"\n",(0,s.jsx)(e.h3,{id:"configuraci\xf3n-de-cors",children:"Configuraci\xf3n de CORS"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// next.config.ts\r\nconst nextConfig = {\r\n  async headers() {\r\n    return [\r\n      {\r\n        source: '/api/:path*',\r\n        headers: [\r\n          { key: 'Access-Control-Allow-Origin', value: '*' },\r\n          { key: 'Access-Control-Allow-Methods', value: 'GET, POST, PUT, DELETE, OPTIONS' },\r\n          { key: 'Access-Control-Allow-Headers', value: 'Content-Type, Authorization' },\r\n        ],\r\n      },\r\n    ];\r\n  },\r\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"configuraci\xf3n-de-email",children:"Configuraci\xf3n de Email"}),"\n",(0,s.jsx)(e.h3,{id:"smtp-configuration",children:"SMTP Configuration"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// lib/email.ts\r\nimport nodemailer from 'nodemailer';\r\n\r\nexport const emailConfig = {\r\n  host: process.env.SMTP_HOST,\r\n  port: parseInt(process.env.SMTP_PORT || '587'),\r\n  secure: false,\r\n  auth: {\r\n    user: process.env.SMTP_USER,\r\n    pass: process.env.SMTP_PASS,\r\n  },\r\n};\r\n\r\nexport const transporter = nodemailer.createTransporter(emailConfig);\n"})}),"\n",(0,s.jsx)(e.h3,{id:"plantillas-de-email",children:"Plantillas de Email"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// templates/email-templates.ts\r\nexport const emailTemplates = {\r\n  welcome: {\r\n    subject: 'Bienvenido al Sistema de Gesti\xf3n',\r\n    template: 'welcome-template.html',\r\n  },\r\n  passwordReset: {\r\n    subject: 'Restablecer Contrase\xf1a',\r\n    template: 'password-reset-template.html',\r\n  },\r\n  notification: {\r\n    subject: 'Notificaci\xf3n del Sistema',\r\n    template: 'notification-template.html',\r\n  },\r\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"configuraci\xf3n-de-reportes",children:"Configuraci\xf3n de Reportes"}),"\n",(0,s.jsx)(e.h3,{id:"configurar-generaci\xf3n-de-reportes",children:"Configurar Generaci\xf3n de Reportes"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// lib/reports/config.ts\r\nexport const reportConfig = {\r\n  formats: ['pdf', 'excel', 'csv'],\r\n  templates: {\r\n    inventory: 'templates/inventory-report.html',\r\n    financial: 'templates/financial-report.html',\r\n    services: 'templates/services-report.html',\r\n  },\r\n  schedule: {\r\n    daily: '0 8 * * *', // 8:00 AM diario\r\n    weekly: '0 8 * * 1', // 8:00 AM los lunes\r\n    monthly: '0 8 1 * *', // 8:00 AM el primer d\xeda del mes\r\n  },\r\n};\n"})}),"\n",(0,s.jsx)(e.h3,{id:"configurar-notificaciones-autom\xe1ticas",children:"Configurar Notificaciones Autom\xe1ticas"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// lib/notifications/config.ts\r\nexport const notificationConfig = {\r\n  channels: ['email', 'sms', 'push'],\r\n  rules: {\r\n    lowStock: {\r\n      threshold: 10,\r\n      channels: ['email'],\r\n      recipients: ['admin@empresa.com'],\r\n    },\r\n    paymentDue: {\r\n      daysBefore: 3,\r\n      channels: ['email', 'sms'],\r\n      recipients: ['finance@empresa.com'],\r\n    },\r\n  },\r\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"configuraci\xf3n-de-integraciones",children:"Configuraci\xf3n de Integraciones"}),"\n",(0,s.jsx)(e.h3,{id:"api-configuration",children:"API Configuration"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// lib/api/config.ts\r\nexport const apiConfig = {\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL,\r\n  timeout: 30000,\r\n  retries: 3,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'X-API-Version': '1.0',\r\n  },\r\n};\n"})}),"\n",(0,s.jsx)(e.h3,{id:"webhook-configuration",children:"Webhook Configuration"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// lib/webhooks/config.ts\r\nexport const webhookConfig = {\r\n  endpoints: {\r\n    payment: '/api/webhooks/payment',\r\n    inventory: '/api/webhooks/inventory',\r\n    service: '/api/webhooks/service',\r\n  },\r\n  security: {\r\n    secret: process.env.WEBHOOK_SECRET,\r\n    algorithm: 'sha256',\r\n  },\r\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"configuraci\xf3n-de-backup",children:"Configuraci\xf3n de Backup"}),"\n",(0,s.jsx)(e.h3,{id:"configurar-respaldos-autom\xe1ticos",children:"Configurar Respaldos Autom\xe1ticos"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// lib/backup/config.ts\r\nexport const backupConfig = {\r\n  schedule: '0 2 * * *', // 2:00 AM diario\r\n  retention: 30, // d\xedas\r\n  destinations: {\r\n    local: '/backups',\r\n    cloud: 's3://mi-bucket/backups',\r\n  },\r\n  databases: ['sistema_gestion'],\r\n  exclude: ['logs', 'temp'],\r\n};\n"})}),"\n",(0,s.jsx)(e.h3,{id:"configurar-restauraci\xf3n",children:"Configurar Restauraci\xf3n"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# Script de restauraci\xf3n\r\n#!/bin/bash\r\n# restore.sh\r\n\r\nBACKUP_FILE=$1\r\nDATABASE_NAME="sistema_gestion"\r\n\r\nif [ -z "$BACKUP_FILE" ]; then\r\n    echo "Uso: ./restore.sh <archivo_backup>"\r\n    exit 1\r\nfi\r\n\r\n# Restaurar base de datos\r\npg_restore -d $DATABASE_NAME $BACKUP_FILE\r\n\r\n# Reiniciar servicios\r\nsystemctl restart sistema-gestion\n'})}),"\n",(0,s.jsx)(e.h2,{id:"configuraci\xf3n-de-monitoreo",children:"Configuraci\xf3n de Monitoreo"}),"\n",(0,s.jsx)(e.h3,{id:"configurar-logs",children:"Configurar Logs"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// lib/logging/config.ts\r\nexport const loggingConfig = {\r\n  level: process.env.LOG_LEVEL || 'info',\r\n  format: 'json',\r\n  destinations: {\r\n    console: true,\r\n    file: '/var/log/sistema-gestion/app.log',\r\n    database: true,\r\n  },\r\n  rotation: {\r\n    maxSize: '10MB',\r\n    maxFiles: 5,\r\n  },\r\n};\n"})}),"\n",(0,s.jsx)(e.h3,{id:"configurar-m\xe9tricas",children:"Configurar M\xe9tricas"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"// lib/metrics/config.ts\r\nexport const metricsConfig = {\r\n  enabled: true,\r\n  interval: 60000, // 1 minuto\r\n  endpoints: {\r\n    health: '/api/health',\r\n    metrics: '/api/metrics',\r\n  },\r\n  alerts: {\r\n    cpu: 80,\r\n    memory: 85,\r\n    disk: 90,\r\n  },\r\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"configuraci\xf3n-de-despliegue",children:"Configuraci\xf3n de Despliegue"}),"\n",(0,s.jsx)(e.h3,{id:"docker-configuration",children:"Docker Configuration"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-dockerfile",children:'# Dockerfile\r\nFROM node:20-alpine\r\n\r\nWORKDIR /app\r\n\r\nCOPY package*.json ./\r\nRUN npm ci --only=production\r\n\r\nCOPY . .\r\nRUN npm run build\r\n\r\nEXPOSE 3000\r\n\r\nCMD ["npm", "start"]\n'})}),"\n",(0,s.jsx)(e.h3,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yaml",children:'# docker-compose.yml\r\nversion: \'3.8\'\r\n\r\nservices:\r\n  app:\r\n    build: .\r\n    ports:\r\n      - "3000:3000"\r\n    environment:\r\n      - DATABASE_URL=postgresql://user:pass@db:5432/sistema_gestion\r\n    depends_on:\r\n      - db\r\n      - redis\r\n\r\n  db:\r\n    image: postgres:15\r\n    environment:\r\n      - POSTGRES_DB=sistema_gestion\r\n      - POSTGRES_USER=user\r\n      - POSTGRES_PASSWORD=pass\r\n    volumes:\r\n      - postgres_data:/var/lib/postgresql/data\r\n\r\n  redis:\r\n    image: redis:7-alpine\r\n    ports:\r\n      - "6379:6379"\r\n\r\nvolumes:\r\n  postgres_data:\n'})}),"\n",(0,s.jsx)(e.h2,{id:"consejos-de-configuraci\xf3n",children:"Consejos de Configuraci\xf3n"}),"\n",(0,s.jsx)(e.h3,{id:"mejores-pr\xe1cticas",children:"Mejores Pr\xe1cticas"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Seguridad"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Usa contrase\xf1as seguras"}),"\n",(0,s.jsx)(e.li,{children:"Habilita HTTPS en producci\xf3n"}),"\n",(0,s.jsx)(e.li,{children:"Configura firewall apropiadamente"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Rendimiento"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Configura cach\xe9 Redis"}),"\n",(0,s.jsx)(e.li,{children:"Optimiza consultas de base de datos"}),"\n",(0,s.jsx)(e.li,{children:"Usa CDN para archivos est\xe1ticos"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Monitoreo"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Configura alertas apropiadas"}),"\n",(0,s.jsx)(e.li,{children:"Monitorea recursos del sistema"}),"\n",(0,s.jsx)(e.li,{children:"Revisa logs regularmente"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Backup"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Configura respaldos autom\xe1ticos"}),"\n",(0,s.jsx)(e.li,{children:"Prueba restauraciones regularmente"}),"\n",(0,s.jsx)(e.li,{children:"Almacena respaldos en m\xfaltiples ubicaciones"}),"\n"]}),"\n"]}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>o,x:()=>c});var i=r(6540);const s={},a=i.createContext(s);function o(n){const e=i.useContext(a);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),i.createElement(a.Provider,{value:e},n.children)}}}]);